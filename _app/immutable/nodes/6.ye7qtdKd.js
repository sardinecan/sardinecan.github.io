import{s as G,n as D}from"../chunks/CXCHmQ-B.js";import{S as J,i as K,d as m,o as Q,p as H,a as y,q as W,k as g,c as k,l as X,g as A,e as E,h as S,j,s as z,b as _,f as L,t as T}from"../chunks/DuaWf0Pd.js";import{e as M}from"../chunks/D6YF6ztN.js";import{d as N}from"../chunks/D2-NGLRx.js";const Y=async({fetch:l})=>({reports:await(await l("/api/reports")).json()}),le=Object.freeze(Object.defineProperty({__proto__:null,load:Y},Symbol.toStringTag,{value:"Module"}));function U(l,e,a){const i=l.slice();return i[4]=e[a],i}function V(l){let e,a=F(l[4].meta.speaker)+"",i;return{c(){e=S("span"),i=T(a),this.h()},l(s){e=k(s,"SPAN",{class:!0});var n=E(e);i=L(n,a),n.forEach(m),this.h()},h(){g(e,"class","speaker")},m(s,n){y(s,e,n),_(e,i)},p(s,n){n&2&&a!==(a=F(s[4].meta.speaker)+"")&&z(i,a)},d(s){s&&m(e)}}}function B(l){let e,a,i,s=l[4].meta.category+"",n,h,c,b=l[4].meta.title+"",d,o,t,p=(l[4].meta.place?N(l[4].meta.date)+" | "+l[4].meta.place:N(l[4].meta.date))+"",r,P,I,w,f=l[4].meta.speaker&&V(l);return{c(){e=S("a"),a=S("article"),i=S("span"),n=T(s),h=j(),c=S("span"),d=T(b),o=j(),t=S("span"),r=T(p),P=j(),f&&f.c(),I=j(),this.h()},l(u){e=k(u,"A",{class:!0,href:!0});var v=E(e);a=k(v,"ARTICLE",{});var C=E(a);i=k(C,"SPAN",{class:!0});var q=E(i);n=L(q,s),q.forEach(m),h=A(C),c=k(C,"SPAN",{class:!0});var O=E(c);d=L(O,b),O.forEach(m),o=A(C),t=k(C,"SPAN",{class:!0});var R=E(t);r=L(R,p),R.forEach(m),P=A(C),f&&f.l(C),C.forEach(m),I=A(v),v.forEach(m),this.h()},h(){g(i,"class","category"),g(c,"class","title"),g(t,"class","date"),g(e,"class","card"),g(e,"href",w=l[4].path)},m(u,v){y(u,e,v),_(e,a),_(a,i),_(i,n),_(a,h),_(a,c),_(c,d),_(a,o),_(a,t),_(t,r),_(a,P),f&&f.m(a,null),_(e,I)},p(u,v){v&2&&s!==(s=u[4].meta.category+"")&&z(n,s),v&2&&b!==(b=u[4].meta.title+"")&&z(d,b),v&2&&p!==(p=(u[4].meta.place?N(u[4].meta.date)+" | "+u[4].meta.place:N(u[4].meta.date))+"")&&z(r,p),u[4].meta.speaker?f?f.p(u,v):(f=V(u),f.c(),f.m(a,null)):f&&(f.d(1),f=null),v&2&&w!==(w=u[4].path)&&g(e,"href",w)},d(u){u&&m(e),f&&f.d()}}}function Z(l){let e,a="Comptes rendus",i,s,n,h,c,b,d=M(l[1]),o=[];for(let t=0;t<d.length;t+=1)o[t]=B(U(l,d,t));return{c(){e=S("h1"),e.textContent=a,i=j(),s=S("input"),n=j(),h=S("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){e=k(t,"H1",{"data-svelte-h":!0}),X(e)!=="svelte-14m5zzg"&&(e.textContent=a),i=A(t),s=k(t,"INPUT",{class:!0,type:!0,placeholder:!0}),n=A(t),h=k(t,"DIV",{class:!0});var p=E(h);for(let r=0;r<o.length;r+=1)o[r].l(p);p.forEach(m),this.h()},h(){g(s,"class","filter"),g(s,"type","text"),g(s,"placeholder","filtrer"),g(h,"class","cards")},m(t,p){y(t,e,p),y(t,i,p),y(t,s,p),H(s,l[0]),y(t,n,p),y(t,h,p);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(h,null);c||(b=W(s,"input",l[3]),c=!0)},p(t,[p]){if(p&1&&s.value!==t[0]&&H(s,t[0]),p&2){d=M(t[1]);let r;for(r=0;r<d.length;r+=1){const P=U(t,d,r);o[r]?o[r].p(P,p):(o[r]=B(P),o[r].c(),o[r].m(h,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=d.length}},i:D,o:D,d(t){t&&(m(e),m(i),m(s),m(n),m(h)),Q(o,t),c=!1,b()}}}function F(l){var e=l.split(";"),e=e.map(a=>$(a));return e.length>3?e[0]+", "+e[1]+", "+e[2]+" et al.":e.join(", ")}function $(l){return l.replace(/^\s*|\s*$/g,"")}function x(l,e,a){let i,{data:s}=e,n;function h(){n=this.value,a(0,n)}return l.$$set=c=>{"data"in c&&a(2,s=c.data)},l.$$.update=()=>{l.$$.dirty&5&&a(1,i=n?s.reports.filter(c=>c.meta.title.toLowerCase().match(`${n}.*`)||c.meta.category.toLowerCase().match(`${n}.*`)||c.meta.speaker.toLowerCase().match(`${n}.*`)):s.reports)},[n,i,s,h]}class re extends J{constructor(e){super(),K(this,e,x,Z,G,{data:2})}}export{re as component,le as universal};
