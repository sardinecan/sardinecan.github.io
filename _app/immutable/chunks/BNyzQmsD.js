import{s as Y,n as I}from"./CXCHmQ-B.js";import{S as Z,i as aa,d as s,a as t,k as U,c as e,l as u,g as l,e as O,m as S,h as p,j as o,H as $}from"./DuaWf0Pd.js";function na(G){let c,j="Les fonctions XPath collection() et document-uri()",_,i,z="<code>collection()</code>",w,k,B="Renvoie une séquence d’éléments identifiés par une URI, ou une collection par défaut si aucune URI n’est fournie.",b,r,q,J=`<code class="language-xml">collection('.?select=*.xml') <span class="token comment">&lt;!-- retourne une collection de document xml --></span></code>`,H,m,A=`Pour récupérer le nom de chaque fichier, deux fonctions peuvent être utilisées : <code>document-uri()</code> et <code>base-uri()</code>.
voir <a href="https://stackoverflow.com/questions/77325893/document-uri-is-not-working-when-using-collection" rel="nofollow">document-uri() is not working when using collection()</a>.`,L,d,D='<a href="https://www.saxonica.com/documentation12/index.html#!functions/fn/document-uri" rel="nofollow"><code>document-uri()</code></a>',C,f,K="<p>Les documents lus à l’aide de la fonction <code>collection()</code> sont ajoutés au pool de documents (et ont donc une propriété <code>document-uri()</code>) si et seulement si la collection est stable. Dans Saxon, pour des raisons de performance, les collections ne sont pas stables à moins que l’option de configuration <code>STABLE_COLLECTION_URI</code> ne soit activée ou que la stabilité ne soit demandée d’une autre manière, par exemple en incluant le paramètre <code>stable=yes</code> dans l’URI de la collection.</p>",T,x,y,V=`<code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>for-each</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collection('.?select=*.xml<span class="token entity named-entity" title="&amp;">&amp;amp;</span>content-type=application/xml<span class="token entity named-entity" title="&amp;">&amp;amp;</span>stable=yes')<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>filename<span class="token punctuation">"</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tokenize(base-uri(.), '/')[last()]<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>substring-before($filename, '.xml')<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>result-document</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>output/&#123;$id&#125;.txt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>apply-templates</span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">xsl:</span>result-document</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">xsl:</span>for-each</span><span class="token punctuation">></span></span></code>`,M,v,N='<a href="https://www.saxonica.com/documentation12/index.html#!functions/fn/base-uri" rel="nofollow"><code>base-uri()</code></a>',E,h,Q="Il n’est pas nécessaire d’avoir une collection stable avec <code>base-uri()</code>.",P,g,R,W=`<code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>for-each</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collection('.?select=*.xml')<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>filename<span class="token punctuation">"</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tokenize(base-uri(.), '/')[last()]<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>variable</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>substring-before($filename, '.xml')<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>result-document</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>output/&#123;$id&#125;.txt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">xsl:</span>apply-templates</span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">xsl:</span>result-document</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">xsl:</span>for-each</span><span class="token punctuation">></span></span>
</code>`;return{c(){c=p("h1"),c.textContent=j,_=o(),i=p("h2"),i.innerHTML=z,w=o(),k=p("p"),k.textContent=B,b=o(),r=p("pre"),q=new $(!1),H=o(),m=p("p"),m.innerHTML=A,L=o(),d=p("h3"),d.innerHTML=D,C=o(),f=p("blockquote"),f.innerHTML=K,T=o(),x=p("pre"),y=new $(!1),M=o(),v=p("h3"),v.innerHTML=N,E=o(),h=p("p"),h.innerHTML=Q,P=o(),g=p("pre"),R=new $(!1),this.h()},l(a){c=e(a,"H1",{"data-svelte-h":!0}),u(c)!=="svelte-1x6i7fd"&&(c.textContent=j),_=l(a),i=e(a,"H2",{"data-svelte-h":!0}),u(i)!=="svelte-19dgfu"&&(i.innerHTML=z),w=l(a),k=e(a,"P",{"data-svelte-h":!0}),u(k)!=="svelte-i502s2"&&(k.textContent=B),b=l(a),r=e(a,"PRE",{class:!0});var n=O(r);q=S(n,!1),n.forEach(s),H=l(a),m=e(a,"P",{"data-svelte-h":!0}),u(m)!=="svelte-1d7cbwu"&&(m.innerHTML=A),L=l(a),d=e(a,"H3",{"data-svelte-h":!0}),u(d)!=="svelte-17bddup"&&(d.innerHTML=D),C=l(a),f=e(a,"BLOCKQUOTE",{"data-svelte-h":!0}),u(f)!=="svelte-mdxtwr"&&(f.innerHTML=K),T=l(a),x=e(a,"PRE",{class:!0});var X=O(x);y=S(X,!1),X.forEach(s),M=l(a),v=e(a,"H3",{"data-svelte-h":!0}),u(v)!=="svelte-matp2t"&&(v.innerHTML=N),E=l(a),h=e(a,"P",{"data-svelte-h":!0}),u(h)!=="svelte-h5q82w"&&(h.innerHTML=Q),P=l(a),g=e(a,"PRE",{class:!0});var F=O(g);R=S(F,!1),F.forEach(s),this.h()},h(){q.a=null,U(r,"class","language-xml"),y.a=null,U(x,"class","language-xml"),R.a=null,U(g,"class","language-xml")},m(a,n){t(a,c,n),t(a,_,n),t(a,i,n),t(a,w,n),t(a,k,n),t(a,b,n),t(a,r,n),q.m(J,r),t(a,H,n),t(a,m,n),t(a,L,n),t(a,d,n),t(a,C,n),t(a,f,n),t(a,T,n),t(a,x,n),y.m(V,x),t(a,M,n),t(a,v,n),t(a,E,n),t(a,h,n),t(a,P,n),t(a,g,n),R.m(W,g)},p:I,i:I,o:I,d(a){a&&(s(c),s(_),s(i),s(w),s(k),s(b),s(r),s(H),s(m),s(L),s(d),s(C),s(f),s(T),s(x),s(M),s(v),s(E),s(h),s(P),s(g))}}}const sa={title:"Les fonctions collection() et document-uri()",date:"2022-03-09",category:"xpath",author:"jmorvan",keywords:"xpath ; xml"},{title:pa,date:la,category:oa,author:ca,keywords:ua}=sa;class ia extends Z{constructor(c){super(),aa(this,c,null,na,Y,{})}}export{ia as default,sa as metadata};
