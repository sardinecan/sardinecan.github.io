<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../sunset.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../../_app/immutable/assets/0.D0TAEvq0.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.Brqu0oqf.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/v5Mj_3mi.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/CXCHmQ-B.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.CR_BluRQ.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/C1FmrZbK.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/DuaWf0Pd.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.Dtjg_K4Q.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/y2FRC1HJ.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/4.BFtRo3cN.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/BheWnx7M.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/D2-NGLRx.js"><!-- HEAD_svelte-1i32evn_START --><!-- HEAD_svelte-1i32evn_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">     <div class="content">  <nav class="svelte-epptjw"> <a href="/" class="svelte-epptjw" data-svelte-h="svelte-4ebbsj"><h1 class="svelte-epptjw">/log</h1></a> <ul class="svelte-epptjw"><li><a href="/reports" class="svelte-epptjw" data-svelte-h="svelte-12wekpw">Comptes rendus</a></li> <li><a href="/notes" class="svelte-epptjw active" data-svelte-h="svelte-eu7epz">Notes</a></li> <li><a href="/projets" class="svelte-epptjw" data-svelte-h="svelte-4lv15p">Projets</a></li>  <li><button class="switch svelte-epptjw" role="switch" aria-checked="true"></button></li></ul></nav>   <main>  <article><p class="date">27 juin 2024</p> <h1 data-svelte-h="svelte-18jzxla">📄 <strong>Cheatsheet SQL</strong></h1> <h2 data-svelte-h="svelte-qt2mhr">📌 <strong>Table des Matières</strong></h2> <ul data-svelte-h="svelte-ngw3wc"><li><a href="#introduction">Introduction</a></li> <li><a href="#commandes-de-base">Commandes de Base</a></li> <li><a href="#clauses-de-filtrage">Clauses de Filtrage</a></li> <li><a href="#jointures">Jointures</a></li> <li><a href="#groupement-et-agregation">Groupement et Agrégation</a></li> <li><a href="#sous-requetes">Sous-requêtes</a></li> <li><a href="#manipulation-des-donnees">Manipulation des Données</a></li> <li><a href="#gestion-des-tables">Gestion des Tables</a></li> <li><a href="#fonctions">Fonctions</a></li></ul> <hr> <h2 data-svelte-h="svelte-1rx62y6">📚 Introduction <span id="introduction"></span></h2> <p data-svelte-h="svelte-1ivrtin">SQL (Structured Query Language) est le langage standard pour gérer et manipuler des bases de données relationnelles. Cette cheatsheet couvre les commandes essentielles pour l’interaction avec les bases de données SQL.</p> <h2 data-svelte-h="svelte-1weyjkt">🔍 Commandes de Base <span id="commandes-de-base"></span></h2> <table data-svelte-h="svelte-1dinfrq"><thead><tr><th>Commande</th> <th>Description</th></tr></thead> <tbody><tr><td><code>SELECT</code></td> <td>Récupérer des données</td></tr> <tr><td><code>FROM</code></td> <td>Spécifier la table</td></tr> <tr><td><code>WHERE</code></td> <td>Filtrer les résultats</td></tr> <tr><td><code>ORDER BY</code></td> <td>Trier les résultats</td></tr> <tr><td><code>LIMIT</code></td> <td>Limiter le nombre de résultats</td></tr></tbody></table> <h3 data-svelte-h="svelte-vc1l78">Exemple</h3> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">SELECT</span> nom<span class="token punctuation">,</span> age
<span class="token keyword">FROM</span> employes
<span class="token keyword">WHERE</span> age <span class="token operator">></span> <span class="token number">30</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> age <span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token number">10</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-1oxm0y5">Clauses de filtrage <span id="clauses-de-filtrage"></span></h2> <table data-svelte-h="svelte-vk5smy"><thead><tr><th>Commande</th> <th>Description</th></tr></thead> <tbody><tr><td><code>WHERE</code></td> <td>Filtrer les lignes selon une condition</td></tr> <tr><td><code>AND</code></td> <td>Combiner plusieurs conditions</td></tr> <tr><td><code>OR</code></td> <td>Choisir parmi plusieurs conditions</td></tr> <tr><td><code>NOT</code></td> <td>Nier une condition</td></tr> <tr><td><code>IN</code></td> <td>Correspondance dans une liste</td></tr> <tr><td><code>BETWEEN</code></td> <td>Plage de valeurs</td></tr> <tr><td><code>LIKE</code></td> <td>Correspondance de motif</td></tr> <tr><td><code>IS NULL</code></td> <td>Vérifier si une valeur est nulle</td></tr></tbody></table> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">SELECT</span> nom<span class="token punctuation">,</span> salaire
<span class="token keyword">FROM</span> employes
<span class="token keyword">WHERE</span> salaire <span class="token operator">BETWEEN</span> <span class="token number">40000</span> <span class="token operator">AND</span> <span class="token number">60000</span>
<span class="token operator">AND</span> nom <span class="token operator">LIKE</span> <span class="token string">'J%'</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-8cr0or">Jointures <span id="jointures"></span></h2> <table data-svelte-h="svelte-1hntifk"><thead><tr><th>Type de Jointure</th> <th>Description</th></tr></thead> <tbody><tr><td><code>INNER JOIN</code></td> <td>Renvoie les lignes ayant des correspondances</td></tr> <tr><td><code>LEFT JOIN</code></td> <td>Renvoie toutes les lignes de la table de gauche et les correspondances de la table de droite</td></tr> <tr><td><code>RIGHT JOIN</code></td> <td>Renvoie toutes les lignes de la table de droite et les correspondances de la table de gauche</td></tr> <tr><td><code>FULL JOIN</code></td> <td>Renvoie toutes les lignes quand il y a une correspondance dans l’une ou l’autre des tables</td></tr></tbody></table> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>nom<span class="token punctuation">,</span> d<span class="token punctuation">.</span>nom_departement
<span class="token keyword">FROM</span> employes e
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> departements d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>departement_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-1atisut">Groupement et agrégation <span id="groupement-et-agregation"></span></h2> <table data-svelte-h="svelte-1kdklop"><thead><tr><th>Commande</th> <th>Description</th></tr></thead> <tbody><tr><td><code>GROUP BY</code></td> <td>Grouper les lignes qui ont des valeurs identiques</td></tr> <tr><td><code>HAVING</code></td> <td>Filtrer les groupes</td></tr> <tr><td><code>COUNT</code></td> <td>Compter le nombre de lignes</td></tr> <tr><td><code>SUM</code></td> <td>Calculer la somme</td></tr> <tr><td><code>AVG</code></td> <td>Calculer la moyenne</td></tr> <tr><td><code>MIN</code></td> <td>Trouver la valeur minimale</td></tr> <tr><td><code>MAX</code></td> <td>Trouver la valeur maximale</td></tr></tbody></table> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">SELECT</span> departement_id<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salaire<span class="token punctuation">)</span> <span class="token keyword">AS</span> salaire_moyen
<span class="token keyword">FROM</span> employes
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> departement_id
<span class="token keyword">HAVING</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salaire<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">50000</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-6qpmyq">Sous-requêtes <span id="sous-requetes"></span></h2> <table data-svelte-h="svelte-17mim8g"><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>Sous-requête dans SELECT</code></td> <td>Utiliser une requête dans une autre</td></tr> <tr><td><code>Sous-requête dans FROM</code></td> <td>Utiliser une requête comme une table</td></tr> <tr><td><code>Sous-requête dans WHERE</code></td> <td>Utiliser une requête pour filtrer</td></tr></tbody></table> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">SELECT</span> nom<span class="token punctuation">,</span> salaire
<span class="token keyword">FROM</span> employes
<span class="token keyword">WHERE</span> salaire <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>salaire<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employes<span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-1cw0515">Manipulation des données <span id="manipulation-des-donnees"></span></h2> <table data-svelte-h="svelte-7ydvg9"><thead><tr><th>Commande</th> <th>Description</th></tr></thead> <tbody><tr><td><code>INSERT INTO</code></td> <td>Insérer des nouvelles lignes</td></tr> <tr><td><code>UPDATE</code></td> <td>Modifier les lignes existantes</td></tr> <tr><td><code>DELETE FROM</code></td> <td>Supprimer des lignes</td></tr></tbody></table> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> employes <span class="token punctuation">(</span>nom<span class="token punctuation">,</span> salaire<span class="token punctuation">,</span> departement_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'Marie Dupont'</span><span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">UPDATE</span> employes
<span class="token keyword">SET</span> salaire <span class="token operator">=</span> salaire <span class="token operator">*</span> <span class="token number">1.1</span>
<span class="token keyword">WHERE</span> departement_id <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> employes
<span class="token keyword">WHERE</span> salaire <span class="token operator">&lt;</span> <span class="token number">30000</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-gncxbf">Gestion des tables <span id="gestion-des-tables"></span></h2> <table data-svelte-h="svelte-1fgoy1l"><thead><tr><th>Commande</th> <th>Description</th></tr></thead> <tbody><tr><td><code>CREATE TABLE</code></td> <td>Créer une nouvelle table</td></tr> <tr><td><code>ALTER TABLE</code></td> <td>Modifier une table existante</td></tr> <tr><td><code>DROP TABLE</code></td> <td>Supprimer une table</td></tr> <tr><td><code>CREATE INDEX</code></td> <td>Créer un index</td></tr> <tr><td><code>DROP INDEX</code></td> <td>Supprimer un index</td></tr></tbody></table> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> departements <span class="token punctuation">(</span>
    id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    nom_departement <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> employes
<span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> adresse <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> anciennes_donnees<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <h2 data-svelte-h="svelte-dsna33">Fonctions <span id="fonctions"></span></h2> <table data-svelte-h="svelte-wr2qh9"><thead><tr><th>Fonction</th> <th>Description</th></tr></thead> <tbody><tr><td><code>NOW()</code></td> <td>Obtenir la date et l’heure actuelles</td></tr> <tr><td><code>COALESCE</code></td> <td>Retourner la première valeur non NULL</td></tr> <tr><td><code>IFNULL</code></td> <td>Retourner une valeur de remplacement si NULL</td></tr> <tr><td><code>LENGTH</code></td> <td>Longueur d’une chaîne</td></tr> <tr><td><code>SUBSTRING</code></td> <td>Extraire une sous-chaîne</td></tr> <tr><td><code>ROUND</code></td> <td>Arrondir un nombre</td></tr></tbody></table> <pre class="language-sql"><!-- HTML_TAG_START --><code class="language-sql"><span class="token keyword">SELECT</span> nom<span class="token punctuation">,</span> <span class="token function">ROUND</span><span class="token punctuation">(</span>salaire<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> salaire_arrondi
<span class="token keyword">FROM</span> employes
<span class="token keyword">WHERE</span> <span class="token keyword">COALESCE</span><span class="token punctuation">(</span>adresse<span class="token punctuation">,</span> <span class="token string">'Adresse non fournie'</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">'Adresse non fournie'</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre></article></main>   <footer class="svelte-1capoi1" data-svelte-h="svelte-1h3xx8c"><nav><ul class="svelte-1capoi1"><li><a href="https://github.com/sardinecan/log" class="svelte-1capoi1">Github</a></li> </ul></nav></footer> </div> 
			
			<script>
				{
					__sveltekit_ivesws = {
						base: new URL("../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../_app/immutable/entry/start.Brqu0oqf.js"),
						import("../../_app/immutable/entry/app.CR_BluRQ.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
